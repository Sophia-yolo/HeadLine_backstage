## 系统信息

|   命令   | 功能                                                   |
| :------: | ------------------------------------------------------ |
|  uptime  | 系统运行时长和平均负载                                 |
|    w     | 当前登录用户列表和正在运行的任务                       |
|   who    | 显示当前登录用户信息                                   |
| `whoami` | 打印当前的用户名称                                     |
|   last   | 用户最近登录信息                                       |
| `uname`  | 打印当前系统信息👉常用：`uname  -a`（很完整的系统信息） |
|   date   | 设置系统时间和日期👉`NTP`或显示                         |
|   cal    | 显示日历                                               |

> --help：查看命令帮助
>
> `tldr`：查看精简命令



### w

获取当前登录用户和正在执行的进程

![图片](http://139.196.138.42/wp-content/uploads/2021/01/Ic13dBaMvzxOr5V20210123.png)

> `sudo -i` ：用超级用户权限启动默认Shell



### last

应用：查出最近登录最频繁的三个用户❓

![图片](http://139.196.138.42/wp-content/uploads/2021/01/baodHKE7PZrOFux20210123.png)

PS：

- 清洗空行【”^$”】、按空格切割再取第1列、按字典序[即ASCII码序]排序、计数、按数字排倒序
- `cut -c 10-15`：按字符切，取某一列对应第10-15个字符zc
- tr 字符替换命令
  - -c 反向替换
  - -s 压缩连续的重复字符

![image-20210427183747555](C:\Users\Area1\AppData\Roaming\Typora\typora-user-images\image-20210427183747555.png)



### date

![图片](http://139.196.138.42/wp-content/uploads/2021/01/FNzOk7JEdTRY69t20210123.png)

- 可以自定义字符串格式，注意大小写自行尝试即可

- `NTP`/`DNS`

  - 时区可查看`/usr/share/zoneinfo`（所有时区）

  - 时间服务器配置见`/etc/ntp.conf`

  - 修改时区可通过`ln -sf [软连接强制覆盖]`命令，将`/etc/localtime`连接到时区

    > `sudo ln -sf /usr/share/zoneinfo/Asia/城市 /etc/localtime`


## 附加知识点

- echo -e 可以让反斜杠生效
  - 如echo -e “`33[32m`12333[`0m`456” 输出颜色，这类似 printf
  - echo ${HOME} 👉输出 `/home/wiwth`
- $[]只做整数计算
- shell脚本里空格是敏感的❗
- 在Shell里定义的变量是在进程里的，退出Shell [或断开SSH连接] 变量就消失了

